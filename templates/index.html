{% extends "base.html" %}

{% block title %}
    Página Principal - Mi Empresa
{% endblock %}

{% block page_styles %}
<style>
/* Nota: Estos estilos ya están en styles.css, 
   así que este bloque no es necesario, 
   pero lo dejo como ejemplo de dónde irían.
*/
</style>
{% endblock %}


{% block content %}
<div class="container mt-4">

    <section id="vision" class="mb-5 section-fade">
        <h2 class="text-primary">Nuestra Visión</h2>
        <p>Convertirnos en la tienda en línea de referencia en México para la venta de partes y accesorios de computadora, 
        ofreciendo innovación, confianza y accesibilidad a todos los usuarios.</p>
        <button id="btnVision" class="btn btn-outline-primary mt-2">Ocultar Visión</button>
    </section>

    <hr>

    <section id="mision" class="mb-5 section-fade">
        <h2 class="text-success">Nuestra Misión</h2>
        <p>Brindar a nuestros clientes componentes de calidad, asesoría especializada y una experiencia de compra sencilla 
        y segura, impulsando la tecnología al alcance de estudiantes, profesionales y empresas.</p>
        <button id="btnMision" class="btn btn-outline-success mt-2">Ocultar Misión</button>
    </section>

    <hr>

    <section id="contacto" class="mt-5 section-fade">
        <h3>Contáctanos</h3>
        <form id="formContacto" class="mt-3">
            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre completo:</label>
                <input type="text" name="nombre" id="nombre" class="form-control" required minlength="3">
            </div>
            <div class="mb-3">
                <label for="correo" class="form-label">Correo electrónico:</label>
                <input type="email" name="correo" id="correo" class="form-control" required>
            </div>
            <div class="mb-3">
                <label for="mensaje" class="form-label">Mensaje:</label>
                <textarea name="mensaje" id="mensaje" class="form-control" required minlength="10"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Enviar</button>
        </form>
    </section>

</div>
{% endblock %}


{% block page_scripts %}
<script>
$(document).ready(function() {

    // --- Efecto de aparición al hacer scroll ---
    $(window).on('scroll', function() {
        $('.section-fade').each(function() {
            const top_of_element = $(this).offset().top;
            const bottom_of_screen = $(window).scrollTop() + $(window).height();
            if (bottom_of_screen > top_of_element + 100) {
                $(this).addClass('visible');
            }
        });
    });

    // --- Mostrar/Ocultar Visión ---
    $("#btnVision").click(function() {
        $("#vision p").slideToggle(500);
        $(this).text($(this).text() === "Ocultar Visión" ? "Mostrar Visión" : "Ocultar Visión");
    });

    // --- Mostrar/Ocultar Misión ---
    $("#btnMision").click(function() {
        $("#mision p").fadeToggle(500);
        $(this).text($(this).text() === "Ocultar Misión" ? "Mostrar Misión" : "Ocultar Misión");
    });

    // --- Validación formulario contacto ---
    $("#formContacto").validate({
        rules: {
            nombre: { required: true, minlength: 3, lettersonly: true },
            correo: { required: true, email: true },
            mensaje: { required: true, minlength: 10 }
        },
        messages: {
            nombre: "Por favor ingresa tu nombre válido (solo letras, mínimo 3 caracteres)",
            correo: "Introduce un correo electrónico válido",
            mensaje: "Tu mensaje debe tener al menos 10 caracteres"
        },
        submitHandler: function(form) {
            alert("Formulario enviado correctamente");
            form.reset();
        }
    });

    // Método personalizado: solo letras
    jQuery.validator.addMethod("lettersonly", function(value, element) {
        return this.optional(element) || /^[a-zA-Z\s]+$/.test(value);
    }, "Solo se permiten letras");

    // Activar animación al cargar
    $(window).trigger('scroll');
});
</script>
{% endblock %}